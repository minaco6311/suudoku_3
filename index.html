<!DOCTYPE html>

<html lang="ja">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Êï∞Áã¨„Éë„Ç∫„É´</title>

    <style>

        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }

 

        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            background: #f5f5f5;

            min-height: 100vh;

        }

 

        .screen {

            min-height: 100vh;

            display: flex;

            justify-content: center;

            align-items: center;

            padding: 20px;

        }

 

        .hidden {

            display: none !important;

        }

 

        /* ========== Èõ£ÊòìÂ∫¶ÈÅ∏ÊäûÁîªÈù¢ ========== */

        .difficulty-container {

            background: white;

            border-radius: 20px;

            padding: 40px;

            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

            max-width: 500px;

            width: 100%;

        }

 

        .title-area {

            text-align: center;

            margin-bottom: 30px;

        }

 

        .icon {

            font-size: 60px;

            margin-bottom: 15px;

        }

 

        .title-area h1 {

            font-size: 32px;

            color: #333;

            margin-bottom: 10px;

        }

 

        .subtitle {

            font-size: 16px;

            color: #666;

        }

 

        .difficulty-buttons {

            display: grid;

            grid-template-columns: repeat(2, 1fr);

            gap: 15px;

        }

 

        .difficulty-btn {

            padding: 35px 20px;

            border: none;

            border-radius: 15px;

            font-size: 24px;

            font-weight: bold;

            color: white;

            cursor: pointer;

            transition: all 0.3s ease;

            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);

        }

 

        .difficulty-btn:hover {

            transform: translateY(-3px);

            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);

        }

 

        .difficulty-btn:active {

            transform: translateY(0);

        }

 

        .difficulty-btn.beginner {

            background: linear-gradient(135deg, #4CAF50, #45a049);

        }

 

        .difficulty-btn.easy {

            background: linear-gradient(135deg, #2196F3, #1976D2);

        }

 

        .difficulty-btn.medium {

            background: linear-gradient(135deg, #FF9800, #F57C00);

        }

 

        .difficulty-btn.hard {

            background: linear-gradient(135deg, #F44336, #D32F2F);

        }

 

        /* ========== „Ç≤„Éº„É†ÁîªÈù¢ ========== */

        .game-container {

            background: white;

            border-radius: 15px;

            padding: 20px;

            max-width: 500px;

            width: 100%;

            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

        }

 

        .game-header {

            margin-bottom: 20px;

        }

 

        .icon-title {

            display: flex;

            align-items: center;

            justify-content: center;

            gap: 10px;

            margin-bottom: 15px;

        }

 

        .icon-small {

            font-size: 32px;

        }

 

        .game-header h1 {

            font-size: 28px;

            color: #333;

        }

 

        .game-info {

            display: flex;

            justify-content: space-between;

            background: #f5f5f5;

            padding: 12px 15px;

            border-radius: 10px;

            font-size: 14px;

            gap: 10px;

            flex-wrap: wrap;

        }

 

        .difficulty-label {

            background: #e0e0e0;

            padding: 5px 12px;

            border-radius: 20px;

            font-weight: 500;

        }

 

        .timer {

            display: flex;

            align-items: center;

            gap: 5px;

        }

 

        .pause-btn {

            background: #5568d3;

            color: white;

            border: none;

            border-radius: 5px;

            padding: 3px 8px;

            cursor: pointer;

            font-size: 14px;

            transition: background 0.2s;

        }

 

        .pause-btn:hover {

            background: #4557b8;

        }

 

        .pause-btn.paused {

            background: #48bb78;

        }

 

        .hints {

            display: flex;

            align-items: center;

            gap: 5px;

        }

 

        /* Êï∞Â≠óÈÅ∏Êäû„Éú„Çø„É≥ */

        .number-buttons {

            display: grid;

            grid-template-columns: repeat(5, 1fr);

            gap: 8px;

            margin-bottom: 10px;

        }

 

        .number-btn {

            padding: 15px;

            border: none;

            border-radius: 10px;

            background: #5568d3;

            color: white;

            font-size: 18px;

            font-weight: bold;

            cursor: pointer;

            transition: all 0.2s ease;

        }

 

        .number-btn:hover {

            background: #4557b8;

            transform: scale(1.05);

        }

 

        .number-btn.selected {

            background: #3a4a9e;

            box-shadow: 0 0 0 3px rgba(85, 104, 211, 0.4);

        }

 

        .erase-btn {

            background: #757575;

        }

 

        .erase-btn:hover {

            background: #616161;

        }

 

        .instruction {

            text-align: center;

            color: #666;

            font-size: 14px;

            margin-bottom: 15px;

        }

 

        /* Êï∞Áã¨„Ç∞„É™„ÉÉ„Éâ */

        .sudoku-grid {

            display: grid;

            grid-template-columns: repeat(9, 1fr);

            gap: 0;

            width: 100%;

            max-width: 450px;

            margin: 0 auto 20px;

            border: 3px solid #333;

            background: #333;

            aspect-ratio: 1;

        }

 

        .cell {

            aspect-ratio: 1;

            border: 1px solid #ccc;

            display: flex;

            align-items: center;

            justify-content: center;

            font-size: 18px;

            font-weight: bold;

            background: white;

            cursor: pointer;

            transition: background 0.2s;

            position: relative;

        }

 

        .cell.fixed {

            background: #e8e8e8;

            color: #333;

        }

 

        .cell.selected {

            background: #bbdefb;

        }

 

        .cell.user-input {

            color: #2196F3;

        }

 

        .cell.incorrect {

            color: #F44336;

        }

 

        .cell:hover:not(.fixed) {

            background: #f0f0f0;

        }

 

        /* 3x3„Éñ„É≠„ÉÉ„ÇØ„ÅÆÂ¢ÉÁïå„ÇíÂ§™„Åè„Åô„Çã */

        .cell:nth-child(9n+3),

        .cell:nth-child(9n+6) {

            border-right: 2px solid #333;

        }

 

        .cell:nth-child(n+19):nth-child(-n+27),

        .cell:nth-child(n+46):nth-child(-n+54) {

            border-bottom: 2px solid #333;

        }

 

        /* „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ */

        .action-buttons {

            display: grid;

            grid-template-columns: repeat(2, 1fr);

            gap: 10px;

        }

 

        .action-btn {

            padding: 15px 20px;

            border: none;

            border-radius: 10px;

            font-size: 16px;

            font-weight: bold;

            cursor: pointer;

            transition: all 0.3s ease;

        }

 

        .hint-btn {

            background: #9C27B0;

            color: white;

        }

 

        .hint-btn:hover {

            background: #7B1FA2;

        }

 

        .check-btn {

            background: #FF9800;

            color: white;

        }

 

        .check-btn:hover {

            background: #F57C00;

        }

 

        .new-btn {

            background: #2196F3;

            color: white;

        }

 

        .new-btn:hover {

            background: #1976D2;

        }

 

        .quit-btn {

            background: #F44336;

            color: white;

        }

 

        .quit-btn:hover {

            background: #D32F2F;

        }

 

        .action-btn:active {

            transform: scale(0.98);

        }

 

        /* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */

        @media (max-width: 600px) {

            .game-container,

            .difficulty-container {

                padding: 15px;

            }

 

            .difficulty-btn {

                padding: 25px 15px;

                font-size: 20px;

            }

 

            .number-btn {

                padding: 12px;

                font-size: 16px;

            }

 

            .cell {

                font-size: 16px;

            }

 

            .action-btn {

                padding: 12px 15px;

                font-size: 14px;

            }

        }

 

        @media (max-width: 400px) {

            .game-info {

                font-size: 12px;

            }

 

            .number-buttons {

                gap: 5px;

            }

 

            .number-btn {

                padding: 10px;

                font-size: 14px;

            }

 

            .cell {

                font-size: 14px;

            }

        }

    </style>

</head>

<body>

    <!-- Èõ£ÊòìÂ∫¶ÈÅ∏ÊäûÁîªÈù¢ -->

    <div id="difficultyScreen" class="screen">

        <div class="difficulty-container">

            <div class="title-area">

                <div class="icon">üéØ</div>

                <h1>Êï∞Áã¨„Éë„Ç∫„É´</h1>

                <p class="subtitle">Èõ£ÊòìÂ∫¶„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>

            </div>

 

            <div class="difficulty-buttons">

                <button class="difficulty-btn beginner" data-difficulty="beginner">ÂÖ•ÈñÄ</button>

                <button class="difficulty-btn easy" data-difficulty="easy">ÂàùÁ¥ö</button>

                <button class="difficulty-btn medium" data-difficulty="medium">‰∏≠Á¥ö</button>

                <button class="difficulty-btn hard" data-difficulty="hard">‰∏äÁ¥ö</button>

            </div>

        </div>

    </div>

 

    <!-- „Ç≤„Éº„É†ÁîªÈù¢ -->

    <div id="gameScreen" class="screen hidden">

        <div class="game-container">

            <div class="game-header">

                <div class="icon-title">

                    <div class="icon-small">üéØ</div>

                    <h1>Êï∞Áã¨„Éë„Ç∫„É´</h1>

                </div>

 

                <div class="game-info">

                    <div class="difficulty-label">Èõ£ÊòìÂ∫¶: <span id="currentDifficulty">ÂÖ•ÈñÄ</span></div>

                    <div class="timer">

                        ‚è± <span id="timer">00:00</span>

                        <button id="pauseBtn" class="pause-btn">‚è∏</button>

                    </div>

                    <div class="hints">üí° „Éí„É≥„Éà: <span id="hintCount">3</span>Âõû</div>

                </div>

            </div>

 

            <!-- Êï∞Â≠óÈÅ∏Êäû„Éú„Çø„É≥ -->

            <div class="number-buttons">

                <button class="number-btn" data-number="1">1</button>

                <button class="number-btn" data-number="2">2</button>

                <button class="number-btn" data-number="3">3</button>

                <button class="number-btn" data-number="4">4</button>

                <button class="number-btn" data-number="5">5</button>

                <button class="number-btn" data-number="6">6</button>

                <button class="number-btn" data-number="7">7</button>

                <button class="number-btn" data-number="8">8</button>

                <button class="number-btn" data-number="9">9</button>

                <button class="number-btn erase-btn">Ê∂à„Åô</button>

            </div>

 

            <p class="instruction">„Éû„Çπ„Çí„Çø„ÉÉ„Éó„Åó„Å¶ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>

 

            <!-- Êï∞Áã¨„Ç∞„É™„ÉÉ„Éâ -->

            <div id="sudokuGrid" class="sudoku-grid"></div>

 

            <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->

            <div class="action-buttons">

                <button id="hintBtn" class="action-btn hint-btn">üí° „Éí„É≥„Éà</button>

                <button id="checkBtn" class="action-btn check-btn">Á≠î„Åà„ÇíË¶ã„Çã</button>

                <button id="newGameBtn" class="action-btn new-btn">Êñ∞„Åó„ÅÑÂïèÈ°å</button>

                <button id="quitBtn" class="action-btn quit-btn">„ÇÑ„ÇÅ„Çã</button>

            </div>

        </div>

    </div>

 

    <script>

        // Êï∞Áã¨„Ç≤„Éº„É†„ÅÆ„É°„Ç§„É≥„É≠„Ç∏„ÉÉ„ÇØ

        class SudokuGame {

            constructor() {

                this.grid = Array(9).fill(null).map(() => Array(9).fill(0));

                this.solution = Array(9).fill(null).map(() => Array(9).fill(0));

                this.difficulty = 'beginner';

                this.selectedNumber = null;

                this.selectedCell = null;

                this.hintsRemaining = 3;

                this.timerInterval = null;

                this.startTime = null;

                this.elapsedSeconds = 0;

                this.isPaused = false;

 

                this.init();

            }

 

            init() {

                this.setupDifficultyScreen();

            }

 

            setupDifficultyScreen() {

                const difficultyButtons = document.querySelectorAll('.difficulty-btn');

                difficultyButtons.forEach(btn => {

                    btn.addEventListener('click', (e) => {

                        this.difficulty = e.target.dataset.difficulty;

                        this.startGame();

                    });

                });

            }

 

            startGame() {

                // ÁîªÈù¢Âàá„ÇäÊõø„Åà

                document.getElementById('difficultyScreen').classList.add('hidden');

                document.getElementById('gameScreen').classList.remove('hidden');

 

                // Èõ£ÊòìÂ∫¶Ë°®Á§∫„ÇíÊõ¥Êñ∞

                const difficultyNames = {

                    'beginner': 'ÂÖ•ÈñÄ',

                    'easy': 'ÂàùÁ¥ö',

                    'medium': '‰∏≠Á¥ö',

                    'hard': '‰∏äÁ¥ö'

                };

                document.getElementById('currentDifficulty').textContent = difficultyNames[this.difficulty];

 

                // „Éí„É≥„ÉàÂõûÊï∞„Çí„É™„Çª„ÉÉ„Éà

                this.hintsRemaining = 3;

                document.getElementById('hintCount').textContent = this.hintsRemaining;

 

                // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíË®≠ÂÆö

                this.setupEventListeners();

 

                // „Ç≤„Éº„É†ÁîüÊàê

                this.generateNewGame();

 

                // „Çø„Ç§„Éû„ÉºÈñãÂßã

                this.startTimer();

            }

 

            setupEventListeners() {

                // Êï∞Â≠óÈÅ∏Êäû„Éú„Çø„É≥

                document.querySelectorAll('.number-btn').forEach(btn => {

                    btn.addEventListener('click', (e) => {

                        // „Çª„É´„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÅØ‰Ωï„ÇÇ„Åó„Å™„ÅÑ

                        if (!this.selectedCell) {

                            return;

                        }

 

                        if (e.target.classList.contains('erase-btn')) {

                            this.selectedNumber = 0;

                        } else {

                            this.selectedNumber = parseInt(e.target.dataset.number);

                        }

 

                        // ÈÅ∏Êäû„Åï„Çå„Åü„Çª„É´„Å´Êï∞Â≠ó„ÇíÂÖ•Âäõ

                        this.inputNumber(this.selectedCell);

 

                        // Êï∞Â≠ó„Éú„Çø„É≥„ÅÆÈÅ∏ÊäûÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà

                        this.selectedNumber = null;

                    });

                });

 

                // „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥

                document.getElementById('hintBtn').addEventListener('click', () => this.showHint());

                document.getElementById('checkBtn').addEventListener('click', () => this.showSolution());

                document.getElementById('newGameBtn').addEventListener('click', () => this.generateNewGame());

                document.getElementById('quitBtn').addEventListener('click', () => this.quitGame());

                document.getElementById('pauseBtn').addEventListener('click', () => this.togglePause());

            }

 

            startTimer() {

                this.startTime = Date.now();

                this.elapsedSeconds = 0;

                this.isPaused = false;

 

                if (this.timerInterval) {

                    clearInterval(this.timerInterval);

                }

 

                this.timerInterval = setInterval(() => {

                    if (!this.isPaused) {

                        this.elapsedSeconds = Math.floor((Date.now() - this.startTime) / 1000);

                        const minutes = Math.floor(this.elapsedSeconds / 60);

                        const seconds = this.elapsedSeconds % 60;

                        document.getElementById('timer').textContent =

                            `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

                    }

                }, 1000);

            }

 

            stopTimer() {

                if (this.timerInterval) {

                    clearInterval(this.timerInterval);

                    this.timerInterval = null;

                }

            }

 

            togglePause() {

                const pauseBtn = document.getElementById('pauseBtn');

                const gridElement = document.getElementById('sudokuGrid');

 

                this.isPaused = !this.isPaused;

 

                if (this.isPaused) {

                    pauseBtn.textContent = '‚ñ∂';

                    pauseBtn.classList.add('paused');

                    gridElement.style.filter = 'blur(8px)';

                    gridElement.style.pointerEvents = 'none';

 

                    // ‰∏ÄÊôÇÂÅúÊ≠¢ÊôÇÂàª„ÇíË®òÈå≤

                    this.pausedTime = Date.now();

                } else {

                    pauseBtn.textContent = '‚è∏';

                    pauseBtn.classList.remove('paused');

                    gridElement.style.filter = 'none';

                    gridElement.style.pointerEvents = 'auto';

 

                    // „Çø„Ç§„Éû„Éº„ÇíË™øÊï¥Ôºà‰∏ÄÊôÇÂÅúÊ≠¢„Åó„Å¶„ÅÑ„ÅüÊôÇÈñì„ÇíËÄÉÊÖÆÔºâ

                    const pausedDuration = Math.floor((Date.now() - this.pausedTime) / 1000);

                    this.startTime += pausedDuration * 1000;

                }

            }

 

            // ÂÆåÂÖ®„Å™Êï∞Áã¨„ÇíÁîüÊàê

            generateCompleteSudoku() {

                this.solution = Array(9).fill(null).map(() => Array(9).fill(0));

                this.solveSudoku(this.solution, true);

            }

 

            // „Éê„ÉÉ„ÇØ„Éà„É©„ÉÉ„Ç≠„É≥„Ç∞„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅßÊï∞Áã¨„ÇíËß£„Åè

            solveSudoku(board, randomize = false) {

                const empty = this.findEmpty(board);

                if (!empty) {

                    return true;

                }

 

                const [row, col] = empty;

                const numbers = randomize ? this.shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9]) : [1, 2, 3, 4, 5, 6, 7, 8, 9];

 

                for (let num of numbers) {

                    if (this.isValid(board, row, col, num)) {

                        board[row][col] = num;

 

                        if (this.solveSudoku(board, randomize)) {

                            return true;

                        }

 

                        board[row][col] = 0;

                    }

                }

 

                return false;

            }

 

            findEmpty(board) {

                for (let i = 0; i < 9; i++) {

                    for (let j = 0; j < 9; j++) {

                        if (board[i][j] === 0) {

                            return [i, j];

                        }

                    }

                }

                return null;

            }

 

            shuffleArray(array) {

                const newArray = [...array];

                for (let i = newArray.length - 1; i > 0; i--) {

                    const j = Math.floor(Math.random() * (i + 1));

                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];

                }

                return newArray;

            }

 

            isValid(board, row, col, num) {

                // Ë°å„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ

                for (let x = 0; x < 9; x++) {

                    if (board[row][x] === num) {

                        return false;

                    }

                }

 

                // Âàó„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ

                for (let x = 0; x < 9; x++) {

                    if (board[x][col] === num) {

                        return false;

                    }

                }

 

                // 3x3„Éñ„É≠„ÉÉ„ÇØ„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ

                const startRow = Math.floor(row / 3) * 3;

                const startCol = Math.floor(col / 3) * 3;

                for (let i = 0; i < 3; i++) {

                    for (let j = 0; j < 3; j++) {

                        if (board[startRow + i][startCol + j] === num) {

                            return false;

                        }

                    }

                }

 

                return true;

            }

 

            // Èõ£ÊòìÂ∫¶„Å´Âøú„Åò„Å¶„Çª„É´„ÇíÂâäÈô§

            removeNumbers() {

                const cellsToRemove = {

                    'beginner': 20,

                    'easy': 35,

                    'medium': 45,

                    'hard': 55

                };

 

                const removeCount = cellsToRemove[this.difficulty];

                this.grid = this.solution.map(row => [...row]);

 

                let removed = 0;

                while (removed < removeCount) {

                    const row = Math.floor(Math.random() * 9);

                    const col = Math.floor(Math.random() * 9);

 

                    if (this.grid[row][col] !== 0) {

                        this.grid[row][col] = 0;

                        removed++;

                    }

                }

            }

 

            // Êñ∞„Åó„ÅÑ„Ç≤„Éº„É†„ÇíÁîüÊàê

            generateNewGame() {

                this.generateCompleteSudoku();

                this.removeNumbers();

                this.renderGrid();

                this.selectedNumber = null;

                this.selectedCell = null;

 

                // Êï∞Â≠ó„Éú„Çø„É≥„ÅÆÈÅ∏Êäû„Çí„É™„Çª„ÉÉ„Éà

                document.querySelectorAll('.number-btn').forEach(btn => btn.classList.remove('selected'));

 

                // „Çø„Ç§„Éû„Éº„Çí„É™„Çª„ÉÉ„Éà

                this.startTimer();

            }

 

            // „Ç∞„É™„ÉÉ„Éâ„ÇíHTML„Å´ÊèèÁîª

            renderGrid() {

                const gridElement = document.getElementById('sudokuGrid');

                gridElement.innerHTML = '';

 

                for (let i = 0; i < 9; i++) {

                    for (let j = 0; j < 9; j++) {

                        const cell = document.createElement('div');

                        cell.className = 'cell';

                        cell.dataset.row = i;

                        cell.dataset.col = j;

 

                        if (this.grid[i][j] !== 0) {

                            cell.textContent = this.grid[i][j];

                            cell.classList.add('fixed');

                        } else {

                            cell.addEventListener('click', (e) => {

                                this.selectCell(e.target);

                            });

                        }

 

                        gridElement.appendChild(cell);

                    }

                }

            }

 

            // „Çª„É´„ÇíÈÅ∏Êäû

            selectCell(cell) {

                // Ââç„ÅÆÈÅ∏Êäû„ÇíËß£Èô§

                if (this.selectedCell) {

                    this.selectedCell.classList.remove('selected');

                }

 

                // Êñ∞„Åó„ÅÑ„Çª„É´„ÇíÈÅ∏Êäû

                this.selectedCell = cell;

                cell.classList.add('selected');

            }

 

            // Êï∞Â≠ó„ÇíÂÖ•Âäõ

            inputNumber(cell) {

                if (cell.classList.contains('fixed')) {

                    return;

                }

 

                const row = parseInt(cell.dataset.row);

                const col = parseInt(cell.dataset.col);

 

                if (this.selectedNumber === 0) {

                    // Ê∂àÂéª

                    cell.textContent = '';

                    cell.classList.remove('user-input', 'incorrect');

                    this.grid[row][col] = 0;

                } else {

                    // ÂÖ•Âäõ

                    cell.textContent = this.selectedNumber;

                    cell.classList.add('user-input');

                    this.grid[row][col] = this.selectedNumber;

 

                    // Ê≠£Ë™§„ÉÅ„Çß„ÉÉ„ÇØ

                    if (this.selectedNumber !== this.solution[row][col]) {

                        cell.classList.add('incorrect');

                        cell.classList.remove('user-input');

                    } else {

                        cell.classList.remove('incorrect');

                        cell.classList.add('user-input');

                    }

 

                    // ÂÆåÊàê„ÉÅ„Çß„ÉÉ„ÇØ

                    this.checkCompletion();

                }

            }

 

            // ÂÆåÊàê„ÉÅ„Çß„ÉÉ„ÇØ

            checkCompletion() {

                let isComplete = true;

                let isCorrect = true;

 

                for (let i = 0; i < 9; i++) {

                    for (let j = 0; j < 9; j++) {

                        if (this.grid[i][j] === 0) {

                            isComplete = false;

                        }

                        if (this.grid[i][j] !== this.solution[i][j]) {

                            isCorrect = false;

                        }

                    }

                }

 

                if (isComplete && isCorrect) {

                    this.stopTimer();

                    const minutes = Math.floor(this.elapsedSeconds / 60);

                    const seconds = this.elapsedSeconds % 60;

                    setTimeout(() => {

                        alert(`„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ„ÇØ„É™„Ç¢„Åó„Åæ„Åó„ÅüÔºÅ\n\n„Çø„Ç§„É†: ${minutes}ÂàÜ${seconds}Áßí`);

                    }, 100);

                }

            }

 

            // „Éí„É≥„Éà„ÇíË°®Á§∫

            showHint() {

                if (this.hintsRemaining <= 0) {

                    alert('„Éí„É≥„Éà„ÅÆÂõûÊï∞„Çí‰Ωø„ÅÑÂàá„Çä„Åæ„Åó„Åü„ÄÇ');

                    return;

                }

 

                // Á©∫„ÅÆ„Çª„É´„Çí„É©„É≥„ÉÄ„É†„Å´ÈÅ∏„Çì„ÅßÁ≠î„Åà„ÇíË°®Á§∫

                const emptyCells = [];

                const cells = document.querySelectorAll('.cell');

 

                cells.forEach(cell => {

                    if (!cell.classList.contains('fixed') && !cell.textContent) {

                        emptyCells.push(cell);

                    }

                });

 

                if (emptyCells.length === 0) {

                    alert('„Åô„Åπ„Å¶„ÅÆ„Éû„Çπ„ÅåÂüã„Åæ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ');

                    return;

                }

 

                const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];

                const row = parseInt(randomCell.dataset.row);

                const col = parseInt(randomCell.dataset.col);

 

                randomCell.textContent = this.solution[row][col];

                randomCell.classList.add('fixed');

                this.grid[row][col] = this.solution[row][col];

 

                this.hintsRemaining--;

                document.getElementById('hintCount').textContent = this.hintsRemaining;

 

                this.checkCompletion();

            }

 

            // Á≠î„Åà„ÇíË°®Á§∫

            showSolution() {

                if (confirm('Á≠î„Åà„ÇíË°®Á§∫„Åó„Åæ„Åô„ÅãÔºü\nÔºà„Ç≤„Éº„É†„ÅØÁµÇ‰∫Ü„Åó„Åæ„ÅôÔºâ')) {

                    this.stopTimer();

 

                    const cells = document.querySelectorAll('.cell');

                    cells.forEach(cell => {

                        const row = parseInt(cell.dataset.row);

                        const col = parseInt(cell.dataset.col);

                        cell.textContent = this.solution[row][col];

                        cell.classList.remove('user-input', 'selected');

                        cell.classList.add('fixed');

                    });

 

                    this.selectedCell = null;

                    this.selectedNumber = null;

                    document.querySelectorAll('.number-btn').forEach(btn => btn.classList.remove('selected'));

                }

            }

 

            // „Ç≤„Éº„É†„ÇíÁµÇ‰∫Ü

            quitGame() {

                if (confirm('„Ç≤„Éº„É†„ÇíÁµÇ‰∫Ü„Åó„Åæ„Åô„ÅãÔºü')) {

                    this.stopTimer();

                    document.getElementById('gameScreen').classList.add('hidden');

                    document.getElementById('difficultyScreen').classList.remove('hidden');

 

                    // „É™„Çª„ÉÉ„Éà

                    this.selectedCell = null;

                    this.selectedNumber = null;

                    document.querySelectorAll('.number-btn').forEach(btn => btn.classList.remove('selected'));

                }

            }

        }

 

        // „Ç≤„Éº„É†„ÇíÂàùÊúüÂåñ

        document.addEventListener('DOMContentLoaded', () => {

            new SudokuGame();

        });

    </script>

</body>

</html>
